# シミュレータの使い方
- `config.yaml`を開く。
- `inpx_file`と`layx_file`と`groups`において用いるネットワークを選択する。
- 種類は3種類で`"1-1_network"`と`"3-3_network"`と`"3_fork_network"`である
- 最初２つは十字路の交差点である。
- 違いは交差点の数で1-1は1つだけであり3-3は9つの交差点がネットワーク内に存在する。
- 最後のものはT字路である。
- 十字路に関してはさらにオプションの設定がある。
- 該当する`intersections.yaml`のファイルに入ると各交差点で`control_method`を変更することで制御手法を変更できる。
- 具体的にはフェーズ数が違う2種類の制御器があり`Dan_8phase`と`Dan_4phase`の2種類がある。
- この設定が完了したら、`main.m`を実行することで外部シミュレータVISSIMのCOMを利用した通信が行われシミュレーションがスタートする。

# シミュレータの中身の説明
- モデル予測制御の枠組みでミクロ交通流モデルを用いた1交差点における制御器を設計した。
- 使用した予測モデルについては論文をフォルダに入れておくので参照していただきたい。
- 新規性としては、信号機のサイクルの概念が無くなっていることである。サイクルは交通工学の基本的概念であるがモデル制御をうまく利用することでこの概念を取り払い自由度の高い信号機を作成することができる。

# 実行環境に必要なもの
- MATLAB（`dictionary`を使っているのでなるべく最新版にアップデートをすること）
- VISSIM （2021年度版）

# VISSIMを持っていない場合
- シミュレーションはできないがシミュレーション結果のアニメーションが`results`フォルダの中にあるので参照していただきたい。

